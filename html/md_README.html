<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: WORK IN PROGRESS !</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">WORK IN PROGRESS ! </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Todo:</p><ul>
<li>Fix Database Relationships</li>
<li>Insert device UUID into database upon comissioning</li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Introduction</h1>
<p>ADAM is short for Automated Data Acquisition and Management. It aims to be a SCADA (Supervisory Control and Data Acquisition) type system for Single-Board Computers like the Raspberry Pi Zero W.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Motivation</h1>
<p>Secure, open source, configureable process control systems are hard to come by these days.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Software architecture</h1>
<p>This suite is based off two elements: The ADAM mainframe and the STEVE client. Using Flask-SocketIO and Python-SocketIO in asynchronous configuration, it allows to send data back and forth. A preshared key is set in the ADAM config and the corresponding STEVE device config. Using SSL (in the hopes to avoid MITM attacks), the PSK is sent from STEVE to ADAM in order to verify that the device may connect to the network.</p>
<p>On the ADAM end a SQLite database keeps meticolous records of measurements of processes. However, these are also logged onto the steve client.</p>
<p>TODO:</p><ul>
<li>Shutdown AsyncIO connection correctly</li>
<li>Finish UUID scheme for STEVE device</li>
<li>Check if CORS works if STEVE runs on an external device</li>
<li>Add granular user management</li>
<li>Add UI for SCADA type controls</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
Test Setup</h1>
<p>My test setup is a modified jam preserver connected to a Raspberry Pi Zero W, using the ADS1115 and ZS-042 Realtime Clock, connected via GX16-8 plug. This allows me to drive the heating element using solid-state relays. I do not recommend this setup, as it requires in-depth knowledge of high voltage electricity precautions.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Development Setup</h1>
<p>I use virtual environments in order to develop for ADAM: <code>python3 -m venv ADAM_VENV</code> <code>python3 -m venv STEVE_VENV</code></p>
<p>Using two different terminals for each software: <code>source ADAM_VENV/source/bin/activate</code> <code>source STEVE_VENT/source/bin/activate</code></p>
<p>Installing the required software in ADAM_VENV: <code>pip install --upgrade pip wheel</code> <code>pip install -r requirements.txt</code></p>
<p>Please consider that this software is an active development and the requirements may therefor be outdated or subject to change. This applies to both the ADAM mainframe and the STEVE server.</p>
<p>Gevent, Gevent-Websocket and Gunicorn should already exist in the virtual environment after requirments are installed. To start the ADAM mainframe: <code>gunicorn -k gevent -w 1 -b :5000 adam_v2:app --certfile=testcert.crt --keyfile=testcert.key</code></p>
<p>Installing the required software in STEVE_VENV: <code>pip install --upgrade pip wheel</code> <code>pip install -r requirements.txt</code></p>
<p>Running the STEVE client: <code>python3 steve.py</code></p>
<p>Please note that KeyboardInterrupt in STEVE client is buggy and it does not behave always as expected. I recommend using htop (F3-&gt;steve.py-&gt;F9-&gt;F9-&gt;Enter) in order to terminate STEVE client when necessary.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Boring License stuff</h1>
<p>So far I have chosen no license, and therefor the IP rights remain by me. Do ask if you're interested in using or developing this system. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
